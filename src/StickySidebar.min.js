function positionStickySidebar(){endScroll=window.innerHeight-stickyElement.offsetHeight-bottomGap;let t=parseInt(stickyElement.style.top.replace("px;",""));stickyElementHeight+topGap+bottomGap>screenHeight?window.scrollY<currPos?t<topGap?stickyElement.style.top=t+currPos-window.scrollY+"px":t>=topGap&&t!=topGap&&(stickyElement.style.top=topGap+"px"):t>endScroll?stickyElement.style.top=t+currPos-window.scrollY+"px":t<endScroll&&t!=endScroll&&(stickyElement.style.top=endScroll+"px"):stickyElement.style.top=topGap+"px",currPos=window.scrollY}function stickyElementToMe(){stickyElement.style.top=topGap+"px"}function updateSticky(){screenHeight=window.innerHeight,stickyElementHeight=stickyElement.offsetHeight,positionStickySidebar()}const stickyElement=document.querySelector('[data-sticky="true"]'),startPosition=stickyElement.getBoundingClientRect().top;var endScroll=window.innerHeight-stickyElement.offsetHeight-500,currPos=window.scrollY,screenHeight=window.innerHeight,stickyElementHeight=stickyElement.offsetHeight;topGap=0,bottomGap=0,setTimeout(()=>{if(stickyElement.hasAttribute("data-top-gap")){const t=stickyElement.getAttribute("data-top-gap");topGap="auto"==String(t)?startPosition:parseInt(t)}stickyElement.hasAttribute("data-bottom-gap")&&(bottomGap=parseInt(stickyElement.getAttribute("data-bottom-gap")))},100),stickyElement.style.position="sticky",stickyElement.style.top=topGap+"px",stickyElement.style.height="fit-content",setTimeout(()=>{window.addEventListener("resize",()=>{currPos=window.scrollY,updateSticky()}),document.addEventListener("scroll",updateSticky,{capture:!0,passive:!0})},1e3);