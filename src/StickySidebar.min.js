/**
 * StickySidebar.js
 * A short JavaScript code that allows you to quickly and easily implement a Sticky Sidebar,
 * if the browser's viewport is too short, sidebar's contents will scroll in the direction
 * the user scrolls and sticks to either top or bottom of the screen when there's no more content. 
 * And everything with the use of pure JavaScript, 
 * thanks to which you we'll save redundant code and gain efficiency.
 * -- Krzysztof Antosik
 *
 *
 * @license The MIT License, https://github.com/Krzysztof-Antosik/Two-direction-Sticky-Sidebar/blob/main/LICENSE
 * @version 1.6
 * @author  Krzysztof Antosik, https://github.com/Krzysztof-Antosik/
 * @updated 2023-07-06
 * @link    https://github.com/Krzysztof-Antosik/Two-direction-Sticky-Sidebar/
 *
 *
 */
function positionStickySidebar(){endScroll=window.innerHeight-stickyElement.offsetHeight-bottomGap;let t=parseInt(stickyElement.style.top.replace("px;",""));stickyElementHeight+topGap+bottomGap>screenHeight?window.scrollY<currPos?t<topGap?stickyElement.style.top=t+currPos-window.scrollY+"px":t>=topGap&&t!=topGap&&(stickyElement.style.top=topGap+"px"):t>endScroll?stickyElement.style.top=t+currPos-window.scrollY+"px":t<endScroll&&t!=endScroll&&(stickyElement.style.top=endScroll+"px"):stickyElement.style.top=topGap+"px",currPos=window.scrollY}function stickyElementToMe(){stickyElement.style.top=topGap+"px"}function updateSticky(){screenHeight=window.innerHeight,stickyElementHeight=stickyElement.offsetHeight,positionStickySidebar()}const stickyElement=document.querySelector('[data-sticky="true"]'),startPosition=stickyElement.getBoundingClientRect().top;var endScroll=window.innerHeight-stickyElement.offsetHeight-500,currPos=window.scrollY,screenHeight=window.innerHeight,stickyElementHeight=stickyElement.offsetHeight;topGap=0,bottomGap=0,setTimeout(()=>{if(stickyElement.hasAttribute("data-top-gap")){const t=stickyElement.getAttribute("data-top-gap");topGap="auto"==String(t)?startPosition:parseInt(t)}stickyElement.hasAttribute("data-bottom-gap")&&(bottomGap=parseInt(stickyElement.getAttribute("data-bottom-gap")))},100),stickyElement.style.position="sticky",stickyElement.style.top=topGap+"px",stickyElement.style.height="fit-content",setTimeout(()=>{window.addEventListener("resize",()=>{currPos=window.scrollY,updateSticky()}),document.addEventListener("scroll",updateSticky,{capture:!0,passive:!0})},1e3);