/**
 * StickySidebar.js
 * A short JavaScript code that allows you to quickly and easily implement a Sticky Sidebar,
 * if the browser's viewport is too short, sidebar's contents will scroll in the direction
 * the user scrolls and sticks to either top or bottom of the screen when there's no more content. 
 * And everything with the use of pure JavaScript, 
 * thanks to which you we'll save redundant code and gain efficiency.
 * -- Krzysztof Antosik
 *
 *
 * @license The MIT License, https://github.com/Krzysztof-Antosik/Two-direction-Sticky-Sidebar/blob/main/LICENSE
 * @version 1.7.1
 * @author  Krzysztof Antosik, https://github.com/Krzysztof-Antosik/
 * @updated 2023-07-06
 * @link    https://github.com/Krzysztof-Antosik/Two-direction-Sticky-Sidebar/
 *
 *
 */
const stickyElement=document.querySelector('[data-sticky="true"]');if(stickyElement){const t=stickyElement.getBoundingClientRect().top;var endScroll=window.innerHeight-stickyElement.offsetHeight-500,currPos=window.scrollY,screenHeight=window.innerHeight,stickyElementHeight=stickyElement.offsetHeight,topGap=0,bottomGap=0,width=window.innerWidth,mobileWidth=0;setTimeout(()=>{if(stickyElement.hasAttribute("data-top-gap")){const e=stickyElement.dataset.topGap;topGap="auto"==String(e)?t:parseInt(e)}stickyElement.hasAttribute("data-bottom-gap")&&(bottomGap=parseInt(stickyElement.dataset.bottomGap)),stickyElement.hasAttribute("data-mobile-width")&&(mobileWidth=parseInt(stickyElement.dataset.mobileWidth))},100);function offStickyOnMobile(){width>mobileWidth?(stickyElement.style.position="sticky",stickyElement.style.top=topGap+"px",stickyElement.style.height="fit-content"):stickyElement.removeAttribute("style")}offStickyOnMobile();function positionStickySidebar(){endScroll=window.innerHeight-stickyElement.offsetHeight-bottomGap;let t=parseInt(stickyElement.style.top.replace("px",""));stickyElementHeight+topGap+bottomGap>screenHeight?window.scrollY<currPos?t<topGap?stickyElement.style.top=t+currPos-window.scrollY+"px":t>=topGap&&t!=topGap&&(stickyElement.style.top=topGap+"px"):t>endScroll?stickyElement.style.top=t+currPos-window.scrollY+"px":t<endScroll&&t!=endScroll&&(stickyElement.style.top=endScroll+"px"):stickyElement.style.top=topGap+"px",currPos=window.scrollY}function stickyElementToMe(){stickyElement.style.top=topGap+"px"}function updateSticky(){screenHeight=window.innerHeight,stickyElementHeight=stickyElement.offsetHeight,positionStickySidebar()}function initSticky(){width=window.innerWidth,currPos=window.scrollY,updateSticky(),offStickyOnMobile()}setTimeout(()=>{window.addEventListener("resize",()=>{initSticky()}),document.addEventListener("scroll",updateSticky,{capture:!0,passive:!0}),initSticky()},300)}